<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" crossorigin="anonymous">
<link rel="stylesheet" href="nvdatest4.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" crossorigin="anonymous"></script>
<title>Solution and Coaching Request Form</title>

</head>
<body>

  <main role="main">
    <h1>Solution and Coaching Request Form</h1>
    <form role="form" id="coaching-request-form" name="contactForm" method="post" action="">
        <div class="form-group">
			<select class="form-control" id="language" name="language" autocomplete="honorific-prefix">
				<option label="English / Anglais"></option>
				<option value="English / Anglais">English / Anglais</option>
				<option value="français / French">français / French</option>
			</select>
		</div>
		<div class="form-group">
		    <label for="requestor">Requestor  <strong class="required">(required)</strong></label>
            <input type="text" id="requestor" name="requestor" list="suggestions" placeholder="Type Last Name and Select from Search Results">
            <datalist id="suggestions">
            	<!--[if lte IE 9]><select><![endif]-->
            	<option label="Jeff Orchard" value="Jeff Orchard"></option>
            	<option label="Michael Chan" value="Michael Chan"></option>
            	<option label="Omar Touma" value="Omar Touma"></option>
            	<option label="Mohammed Qadeer" value="Mohammed Qadeer"></option>
            	<option label="Roch Lambert" value="Roch Lambert"></option>
            	<option label="Aneta Smulski" value="Aneta Smulski"></option>
            	<!--[if lte IE 9]></select><![endif]-->
            </datalist>
		</div>
			<div class="form-group">
		    <label for="organization">Organization  <strong class="required">(required)</strong></label>
            <select id="organization">
               <option label="Select Organization"></option>
                <option>ESDC</option>
               <option>Labour Program</option>
               <option>Service Canada</option>
            </select>
		 </div>
		 	<div class="form-group">
		    <label for="branch">Branch  <strong class="required">(required)</strong></label>
            <select id="branch">
                <option label="Select Branch"></option>
               <option>Human Resources Services Branch</option>
               <option>Benefits and Integrated Services Branch</option>
               <option>Chief Financial Officer's Branch</option>
                <option>Income Security and Social Development Branch</option>
               <option>Innovation, Information and Technology Branch</option>
            </select>
		 </div> 
		 	<div class="form-group">
		    <label for="division">Division  <strong class="required">(required)</strong></label>
            <select id="division">
                <option label="Select Division"></option>
               <option>Compensation Dicrectorate</option>
               <option>Assistant Deputy Minister</option>
               <option>Copensation Directorate</option>
                <option>Strategic Directions & Management Services</option>
            </select>
		 </div>
		 <div class="form-group">
		    <label for="manager">Manager  <strong class="required">(required)</strong></label>
            <input type="text" id="manager" name="manager" list="suggestions" placeholder="Type Last Name and Select from Search Results">
            <datalist id="suggestions">
            	<!--[if lte IE 9]><select><![endif]-->
            	<option label="Jeff Orchard" value="Omar Touma"></option>
            	<option label="Michael Chan" value="Jeff Orchard"></option>
            	<option label="Omar Touma" value="Michael Chan"></option>
            	<option label="Mohammed Qadeer" value="Mohammed Qadeer"></option>
            	<option label="Roch Lambert" value="Roch Lambert"></option>
            	<option label="Aneta Smulski" value="Aneta Smulski"></option>
            	<!--[if lte IE 9]></select><![endif]-->
            </datalist>
		</div>
		<div class="form-group">
        <label for="message">Please provide a bried name to describe your proposed solution.<strong class="required">(required)</strong></label>
        <textarea aria-required="true" id="message" name="message" class="form-control" placeholder="Question , Comment, etc."></textarea>
      </div>
      	<div class="form-group">
			<label>Would any reports be required? </label>
			<label class="switch">
              <input type="checkbox" checked>
              <span class="slider round" aria-label="Would any reports be required?"></span>
            </label>
          </div>
      <div class="form-group">
			<label><span class="field-name">If possible please attach any documentation or screenshots to help with the solution design.</span> </label>
			<input aria-label="If possible please attach any documentation or screenshots to help with the solution design. Choose file" type="file">
		</div>
		<br>
	
      <div class="form-group">
        <button type="submit" class="form-control">Submit</button>
      </div>
    </form>
  </main>
</div>
<script>
var oldTitle = document.title;
$('#coaching-request-form').submit(function (e) {
		$("em").remove(".errorMessage");
		var uniqueID = 1;
        $('input', this).not('#apt').each(function () {
			$(this).removeAttr('style');
            if (!this.value) {
				e.preventDefault();
				var label = $("label[for='"+$(this).attr('id')+"']").text();
                $(this).after('<em id="errorMsg'+uniqueID+'" class="errorMessage">'+label+' is empty. Please type last name and select from search results.</em>');
                $(this).attr("aria-invalid", "true");
				$(this).attr('aria-describedby','errorMsg'+uniqueID+'');
				uniqueID++;
            } else {
                $(this).removeAttr("aria-invalid");
                $(this).removeAttr("aria-describedby");
            };
        });
		var checkboxChecked = $("input:checked").length > 0;
        $('input[type=checkbox]', this).each(function () {
			$(this).removeAttr('style');
			if (!checkboxChecked) {
				if (!this.checked) {
					e.preventDefault();
					var label = $(this).parent().text();
					$(this).after('<em class="errorMessage">'+label+' not selected. Please choose at least one contact method.</em>');
                $(this).attr("aria-invalid", "true");
				} else {
                $(this).removeAttr("aria-invalid");
				};
			}
        });
        $('select', this).each(function () {
			$(this).removeAttr('style');
            if (this.value === "") {
				e.preventDefault();
                $(this).after('<em id="errorMsg'+uniqueID+'"class="errorMessage">Option not selected. Please select from the drop down.</em>');
                $(this).attr("aria-invalid", "true");
				$(this).attr('aria-describedby','errorMsg'+uniqueID+'');
				uniqueID++;
            } else {
                $(this).removeAttr("aria-invalid");
                $(this).removeAttr("aria-describedby");
            };
        });
        $('textarea', this).each(function () {
			$(this).removeAttr('style');
            if (!this.value) {
				e.preventDefault();
                $(this).after('<em id="errorMsg'+uniqueID+'"class="errorMessage">Message is empty. Please type a message.</em>');
                $(this).attr("aria-invalid", "true");
				$(this).attr('aria-describedby','errorMsg'+uniqueID+'');
				uniqueID++;
            } else {
                $(this).removeAttr("aria-invalid");
                $(this).removeAttr("aria-describedby");
            };
        });
		document.title = "Errors Present In Form - " + oldTitle;
        $("[aria-invalid=true]").first().focus();
});
</script>
</body>
</html>