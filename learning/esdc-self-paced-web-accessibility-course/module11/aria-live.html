<!DOCTYPE html>
<!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" dir="ltr">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
	<title>ARIA live regions - Module 11 - ARIA live and time limits</title>
	<meta content="width=device-width,initial-scale=1" name="viewport">
	<!-- Meta data -->
	<meta name="description"
		content="Accessibility guidelines related to ARIA live regions. Live regions make dynamic page content accessible. Topics include aria-live, aria-atomic, aria-relevant and aria-busy">
	<meta name="robots" content="noindex">
		<!-- Meta data-->
	<!-- Load closure template scripts -->
	<script src="https://ssl-templates.services.gc.ca/rn/cls/wet/gcweb/cdts/compiled/soyutils.js"></script>
	<script src="https://ssl-templates.services.gc.ca/rn/cls/wet/gcweb/cdts/compiled/wet-en.js"></script>
	<!-- Write closure template -->
	<script src="../../../scripts/refTop.min.js"></script>
	<link rel="stylesheet" href="../../../css/a11y-dark.css">
	<script src="../../../scripts/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
</head>

<body vocab="https://schema.org/" typeof="WebPage">
	<div id="def-top">
	</div>
	<!-- Write closure template -->
    <script>
        var defTop = document.getElementById("def-top");
        defTop.outerHTML = wet.builder.appTop({
            "appName": [{
                "text": "ESDC / IT Accessibility office",
                "href": "../../../index.html"
            }],
           "breadcrumbs" : [{
                "title": "Home",
                "href" : "../../../index.html"
            },{
                "title": "Learning",
                "href" : "../../index.html"
            },
			{
                "title": "Web accessibility course",
                "href" : "../index.html"
            },
			{
                "title": "Module 11 - ARIA live and time limits",
                "href" : "index.html"
            }],
            "lngLinks": [{
                "lang": "fr",
                "href": "a_01-fr.html",
                "text": "Français"
            }],
            "menuPath": "../../../ajax/menu-en.html"
        });
    </script>
<div class="container">
<div class="row">
	<main class="col-md-9 col-md-push-3" role="main" property="mainContentOfPage">
			
	<h1 property="name" id="wb-cont">ARIA live regions</h1>
						
	<nav role="navigation" aria-labelledby="nav-table">
    <div class="panel panel-default mrgn-tp-md">
      <header class="panel-heading">
        <h2 id="nav-table" class="panel-title">Table of contents</h2>
      </header>
        <div class="panel-body">
          <ul>
            <li><a href="#overview">ARIA live regions (overview)</a></li>
			<li><a href="#live">aria-live</a></li>
			<li><a href="#atomic">aria-atomic</a></li>
			<li><a href="#relevant">aria-relevant</a></li>
			<li><a href="#busy">aria-busy</a></li>
			<li><a href="#special-types">Special types of live regions</a></li>
			<li><a href="#resources">Related WCAG resources</a></li>
          </ul>
        </div>
      </div>
	</nav>
	
			<section>
				<h2 id="overview">ARIA live regions (overview)</h2>
				<p>Introduced to make dynamic page content accessible to screen readers users, ARIA live regions are regions of a web page that announce dynamic updates to their content when the user’s attention and system focus are elsewhere. Example use cases of live regions include:</p>
				<ul>
					<li>User receives a Facebook/Twitter notification</li>
					<li>Stock ticker price increases</li>
					<li>New chat message is received</li>
					<li>Progress bar updates</li>
					<li>Form validation error occurs</li>
					<li>Shopping cart total updates</li>
					<li>A sport scoring section updates periodically to reflect game statistics</li>
					<li>A visible countdown announces once a minute</li>
					<li>User presses the “next" carousel button to advance a slide (slide content is announced)</li>
					<li>User sorts a table by name, prompting the announcement “Sorted alphabetically by name". In this case, the live text may be visually hidden as sighted users don’t need the notification.</li>
				</ul>
				<p>WAI-ARIA provides four attributes that enable the author to identify live regions and their properties: <code>aria-live</code>, <code>aria-relevant</code>, <code>aria-atomic</code>, and <code>aria-busy</code>. WAI-ARIA also provides five specialized roles for specific types of live regions.</p>
			</section>
			<section>
				<h2 id="live">aria-live</h2>
				<p>Identify a live region with an <code>aria-live</code> attribute on a container element, such as a <code>span</code> or <code>div</code>. Browsers and the accessibility API monitor the container for any script-injected text. As soon as text is injected into the live region, a screen reader will announce it. </p>
				<p>The live region must be empty on page load or when it’s first added to the DOM.  It’s preferable to add the live region on page load, but if adding the live region to the DOM dynamically, it’s best practice to wait at least 2 seconds for the accessibility API to identify it before injecting any text.</p>
				<p>The <code>aria-live</code> attribute takes three possible values: assertive, polite or off.</p>
				<ul>
					<li><code>aria-live="assertive"</code>: An assertive announcement interrupts whatever a screen reader is reading. Only use assertive announcements when the user needs immediate feedback. </li>
					<li><code>aria-live="polite"</code>: A polite announcement is delayed until the screen reader finishes its current sentence or until the user pauses typing. Use the polite value most of the time.</li>
					<li><code>aria-live="off"</code>: tells screen readers to temporarily suspend aria-live interruptions. </li>
				</ul>
				<p>The <a href="https://www.w3.org/TR/wai-aria-practices-1.1/">WAI-ARIA Carousel widget</a> described in module 12 uses <code>aria-live="off"</code> on the slide container when advancing slides automatically, and <code>aria-live="polite"</code> when the user is manually advancing the slides. This prevents an automatic slideshow’s announcements from overwhelming a screen reader user trying to read the page, and facilitates the reading of a manually-operated slideshow.</p>
				<div class="panel panel-success">
					<div class="panel-body">
					  <h2 class="text-success mrgn-tp-0 h3" id="pattern-attribute-match"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp; Good example: aria-live attribute</h2>
						
				<p>Here, a <code>div</code> element provides a container for a live region. The element is empty on page load.</p>
				<p class="wb-inv">Code begins</p>
				<pre><code class="language-html">&lt;div aria-live="polite"&gt;&lt;/div&gt;</code></pre>
<p class="wb-inv">Code ends</p>
				<p>After the user clicks a sort button in a table column header, JavaScript populates the div with text. The screen reader announces “Sorted alphabetically by name".</p>
<p class="wb-inv">Code begins</p>
				<pre><code class="language-html">&lt;div aria-live="polite"&gt;Sorted alphabetically by name&lt;/div&gt;</code></pre>
<p class="wb-inv">Code ends</p>
</div>
</div>
			</section>
			
			<section>
				<h2 id="atomic">aria-atomic</h2>
				<p>Use the <code>aria-atomic</code> attribute to specify if the whole live region should be announced, or only the text that changed.</p>
				<ul>
					<li><code>aria-atomic="false"</code>: When a live region is updated, only the updated text is announced. Use this value when the updated text makes sense on its own. This is the default value.</li>
					<li><code>aria-atomic="true"</code>: When a live region is updated, the entire region is announced. Use this value when the neighbouring static text in the live region provides necessary context to make sense of the updated text.</li>
				</ul>
				
			<div class="panel panel-success">
					<div class="panel-body">
					  <h2 class="text-success mrgn-tp-0 h3" id="pattern-attribute-match"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp; Good examples: aria-atomic false vs true</h2>
				
				
				<p class="wb-inv">Example begins</p>
				<p>In these examples, the updated total price in a purchase process is announced when the user adds a product.</p>
				<p>In this first example, the aria-atomic attribute is not used, so the default value applies, which is “false". Only the dynamic content is announced, that is, the price. If the dynamic content isn’t meaningful on its own, it can easily confuse users. In this case, the dynamic content alone is vague.</p>
				<p class="wb-inv">Code begins</p>
				<pre><code class="language-html">&lt;p aria-live="polite"&gt;
	Total price:
	&lt;span id="total-price"&gt;$84.52&lt;/span&gt;
&lt;/p&gt;</code></pre>
<p class="wb-inv">Code ends</p>
In this second example, the aria-atomic attribute is set to “true". All the content of the live region is announced, providing the necessary context to make sense of the dynamic content:
<p class="wb-inv">Code begins</p>
<pre><code class="language-html">
&lt;p aria-live="polite" aria-atomic="true"&gt;
	Total price:
	&lt;span id="total-price"&gt;$84.52&lt;/span&gt;
&lt;/p&gt;</code></pre>
<p class="wb-inv">Code ends</p>
	<p class="wb-inv">Example ends</p>
</div>
</div>
			</section>
			<section>
				<h2 id="relevant">aria-relevant</h2>
				<p>The aria-relevant attribute specifies which types of changes to a live region should be announced.</p>
				<ul>
					<li><code>aria-relevant="all"</code>: All changes are announced. Use with caution, as this setting can be verbose.</li>
					<li><code>aria-relevant="additions"</code>: Insertion of nodes to the live region are announced. </li>
					<li><code>aria-relevant="removals"</code>: Removal of nodes to the live region are announced. Reserve for important changes, such as a colleague leaving a chat room.</li>
					<li><code>aria-relevant="text"</code>: Changes to the text content (including text equivalents, such as alt text) in the live region are announced.</li>
				</ul>
				<p>A live region has an implicit <code>aria-relevant</code> value of “additions" and “text", so the attribute isn’t needed if the design calls for the normal behaviour of announcing added content. Only use the <code>aria-relevant</code> attribute if you need to communicate the removal of content from a live region. </p>
			</section>
			<section>
				<h2 id="busy">aria-busy</h2>
				<p>Use the <code>aria-busy</code> attribute to notify assistive technology that it should temporarily ignore changes to an element when things are loading. Set <code>aria-busy="true"</code> initially and, once everything is in place, clear the attribute or set it to <code>aria-busy="false"</code>.</p>
			</section>
			<section>
				<h2 id="special-types">Special types of live regions</h2>
				
				<h3 class="">role="alert"</h3>
				<p>Use the ARIA <code>alert</code> role to announce important and typically time-sensitive information that requires the user’s immediate attention. Setting <code>role="alert"</code> is equivalent to setting <code>aria-live="assertive"</code> and <code>aria-atomic="true"</code>. The only difference is that some screen readers begin the announcement by saying “alert", to identify it to users as an alert.</p>
				<div class="panel panel-success">
					<div class="panel-body">
					  <h2 class="text-success mrgn-tp-0 h3" id="pattern-attribute-match"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp;Good example: Using role="alert"</h2>
					<p class="wb-inv">Example begins</p>
				<p>In this example, a div has <code>role="alert"</code> and CSS <code>display: none</code> attributes. Changing the display value with CSS or JavaScript triggers the live announcement. Exposing such previously-hidden text is equivalent to injecting text.</p>
				<p>The initial alert has the CSS class name <code>“hidden"</code>, which hides the alert text with <code>display: none</code>. </p>
				<p class="wb-inv">Code begins</p>
				<pre><code class="language-html">&lt;form id="updateProfile" method="post" action="javascript:void(0)"&gt;
	&lt;p&gt;&lt;button&gt;Update profile&lt;button&gt;&lt;/p&gt;
	&lt;div class="confirm hidden" role="alert"&gt;You profile has been updated.&lt;/div&gt;
&lt;/form&gt;
The alert is triggered by removing the CSS class name “hidden":
&lt;form id="updateProfile" method="post" action="javascript:void(0)"&gt;
	&lt;p&gt;&lt;button&gt;Update profile&lt;button&gt;&lt;/p&gt;
	&lt;div class="confirm " role="alert"&gt;You profile has been updated.&lt;/div&gt;
&lt;/form&gt;</code></pre>
<p class="wb-inv">Code ends</p>
	<p class="wb-inv">Example ends</p>
</div>
</div>
				<h3 class="">role="status"</h3>
				<p>Use the ARIA <code>status</code> role to announce advisory information to the user that is less urgent than an alert. Setting <code>role="status"</code> is equivalent to setting <code>aria-live="polite"</code> and <code>aria-atomic="true"</code>. </p>
				<p>If an element on the page controls what appears in the status, assign the controlling element the <code>aria-controls="IDREF"</code> attribute, pointing to the id attribute value of the element with <code>role="status"</code>.</p>
				
					
			<div class="panel panel-success">
					<div class="panel-body">
					  <h2 class="text-success mrgn-tp-0 h3" id="pattern-attribute-match"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp; Good example: Use role="status"</h2>
					
				<p>In this example, a paragraph with <code>role="status"</code> displays the number of items in a shopping cart. Because <code>role="status"</code> by default uses <code>aria-atomic="true"</code>, the whole contents of the paragraph are announced. When the count updates, the live announcement kicks in. Screen readers declare the alt text of the shopping cart icon, the revised count, and the word “items". </p>
				<p>To prevent the <code>&lt;br&gt;</code> element from being declared by screen readers it’s given the <code>aria-hidden="true"</code> attribute. The <code>aria-controls="IDREF"</code> attribute is set on the button and given the id attribute value of the span element holding the count.</p>
				
				<div class="panel panel-primary mrgn-tp-md">
				<div class="panel-body well mrgn-bttm-0">
				 <p class="wb-inv">Example begins</p>
				<p role="status">
				<span class="glyphicon glyphicon-shopping-cart" alt="Shopping cart">
				<br aria-hidden="true">
				<span id="cart-count">0</span> items
				</p>
				<button id="btn" onclick="buy()" aria-controls="cart-count">Add to cart</button>
				<script>
				let counter = 0;
				function buy() {
					counter += 1;
					document.getElementById("cart-count").innerHTML = counter;
				}
				</script>
				<p class="wb-inv">Example ends</p>
				</div>
				</div>
				<details class="mrgn-tp-sm">
				<summary class="bg-info">View HTML</summary>
				<p class="wb-inv">Code begins</p>
				<pre><code class="language-html">&lt;p role="status"&gt;
	&lt;img id="cart-icon" src="cart.gif" alt="Shopping cart"&gt;
	&lt;br aria-hidden="true"&gt;
	&lt;span id="cart-count"&gt;0&lt;/span&gt; items
&lt;/p&gt;
&lt;button id="btn" onclick="buy()" aria-controls="cart-count"&gt;Add to cart&lt;/button&gt;
&lt;script&gt;
	let counter = 0;
	function buy() {
		counter += 1;
		document.getElementById("cart-count").innerHTML = counter;
	}
&lt;/script&gt;</code>
				</pre>
				</details>
				
				</div></div>
				
				<h3 class="">role="timer"</h3>
				<p>Use the ARIA timer role to identify a numerical counter listing the time elapsed from a starting point or the time remaining until an end point. The role has the implied value of <code>aria-live="off"</code>, to prevent frequent announcements from overwhelming the screen reader user. However, you can announce the time at regular intervals by using JavaScript to briefly set the <code>aria-live="assertive"</code> and <code>role="alert"</code> attributes, overruling <code>aria-live="off"</code> and <code>role="timer"</code>.</p>
				<div class="panel panel-success">
					<div class="panel-body">
					  <h2 class="text-success mrgn-tp-0 h3" id="countdown"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp; Good example:  Countdown announcing at intervals</h2>
				<p>In this example, a countdown uses the <code>role="timer"</code>, so is silent in screen readers due to its implicit <code>aria-live="off"</code> setting. However, at 15-second intervals, JavaScript briefly adds the <code>aria-live ="assertive"</code> attribute and replaces the timer role with <code>role="alert"</code>. Screen readers announce the initial alert, “60 seconds left!", then the time remaining every 15 seconds: “45 seconds left!", etc.</p>
				<p>An interval of 15 seconds between announcements is too brief in practice and is done here simply to illustrate the technique. One minute is a more practical interval.</p>
				<p>Try visiting the <a href="example-countdown.html" target="_blank">live demo<span class="wb-inv"> (Opens in new tab)</span></a>  with a screen reader running.</p>
				
				
				<pre><code class="language-html">&lt;div id="countdown" role="timer" aria-atomic="true"&gt;
	&lt;span id="number"&gt;60&lt;/span&gt; seconds left!
&lt;/div&gt;</code>
</pre>
				
				<p class="wb-inv">Code begins</p>
				<pre><code class="language-js">function decrement() { 
	var numElement = document.getElementById('number'); 
	var liveRegion = document.getElementById('countdown'); 
	var newNumber = parseInt(numElement.textContent - 1); 
	if (newNumber &gt; -1) { 
		numElement.textContent = newNumber; 
	} 
	if ((newNumber % 15)===0) {
		liveRegion.setAttribute('aria-live', 'assertive'); 
		liveRegion.setAttribute('role', 'alert'); 
		setTimeout(function() { 
			liveRegion.removeAttribute('aria-live'); 
			liveRegion.setAttribute('role', 'timer'); 
		}, 999);
	} 
} 
window.setInterval(function() { 
	decrement(); 
}, 1000);</code>
</pre>

<p class="wb-inv">Code ends</p>
</div>
</div>
				<h3 class="">role="marquee"</h3>
				<p>Use the ARIA marquee role to define an area as a type of live region with non-essential announcements that change frequently. Examples include stock tickers and frequently-changing ad banners. </p>
				<p>Elements with the marquee role have an implicit <code>aria-live="off"</code>. As with the timer role, the content changes too frequently to announce in screen readers. Screen reader users can still navigate to the area to read the text. </p>
				<p>A marquee is required to have an accessible name. If a visible label is present use <code>aria-labelledby</code>; otherwise, use <code>aria-label</code>.</p>
				<h3 class="">role="log"</h3>
				<p>Use the ARIA log role to keep track of sequential updates, such as a chat log, messaging history, game log or an error log. New information is added to the end, old information is optionally removed from the beginning. Updates to the live region are announced when the user is idle. The live region defined by <code>role="log"</code> has implicit <code>aria-live="polite"</code> and <code>aria-atomic="true"</code> attribute values.</p>
			</section>
			<section>				
				<h2 id="resources" class="wb-inv">Related WCAG resources</h2>
				<details class="mrgn-tp-lg">
					<summary class="bg-info">Related WCAG resources</summary>
				<h3 class="">Success criteria</h3>
				<ul>
					<li>
						<a href="https://www.w3.org/WAI/WCAG21/Understanding/error-identification">3.3.1: Error Identification</a>
					</li>
					<li>
						<a href="https://www.w3.org/WAI/WCAG21/Understanding/status-messages">4.1.3: Status Messages</a>
					</li>
				</ul>
				<p>Techniques</p>
				<ul>
					<li>
						<a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA19">ARIA19: Using ARIA role=alert or Live Regions to Identify Errors</a>
					</li>
					<li>
						<a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA22">ARIA22: Using role="status" to present status messages</a>
					</li>
					<li>
						<a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA23">ARIA23: Using role=log to identify sequential information updates</a>
					</li>
				</ul>
				<h3 class="">WAI-ARIA 1.1</h3>
				<ul>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">aria-live (property)</a>
					</li>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">aria-atomic (state)</a>
					</li>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">aria-relevant (property)</a>
					</li>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">aria-busy (property)</a>
					</li>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">alert (role)</a>
					</li>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">status (role)</a>
					</li>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">timer (role)</a>
					</li>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">marquee (role)</a>
					</li>
					<li>
						<a href="https://www.w3.org/TR/wai-aria-1.1/">log (role)</a>
					</li>
				</ul>
			</details>
				
			</section>
			
		
		
	<nav role="navigation" aria-labelledby="nav-document">
		<h2 id="nav-document" class="wb-inv">Pagination menu</h2>
		<ul class="pager">
			<li class="next"><a rel="next" href="time-limits.html">Next - Time limits</a></li>
		</ul>
	</nav>
	</main>
			

	<nav id="wb-sec" class="wb-sec col-md-3 col-md-pull-9" typeof="SiteNavigationElement" role="navigation" aria-labelledby="wb-sec-h">	
		<h2 id="wb-sec-h" class="wb-inv">Section menu</h2>
			<section class="list-group menu list-unstyled">
				<h3 class="wb-navcurr">Module 11 - ARIA live and time limits</h3>
					<ul class="list-group menu list-unstyled">
												
						<li><a class="list-group-item active" aria-current="page" href="aria-live.html">ARIA live regions</a></li>
						<li><a class="list-group-item" href="time-limits.html">Time limits</a></li>
						<li><a class="list-group-item" href="best-practice.html">Best practice</a></li>						
						
					</ul>
			</section>
						
			<section class="list-group menu list-unstyled">
				<h3 class="wb-navcurr">All modules</h3>
					<ul class="list-group menu list-unstyled">
						<li><a class="list-group-item" href="../module1/index.html">Module 1 - Accessibility fundamentals</a></li>
						<li><a class="list-group-item" href="../module2/index.html">Module 2 – Page structure and semantics</a></li>			
						<li><a class="list-group-item" href="../module3/index.html">Module 3 – Links and navigation</a></li>
						<li><a class="list-group-item" href="../module4/index.html">Module 4 – Tables</a></li>
						<li><a class="list-group-item" href="../module5/index.html">Module 5 – Images</a></li>
						<li><a class="list-group-item" href="../module6/index.html">Module 6 – Forms</a></li>	
						<li><a class="list-group-item" href="../module7/index.html">Module 7 – Visual design and colours</a></li>
						<li><a class="list-group-item" href="../module8/index.html">Module 8 – Zoom and responsive design</a></li>
						<li><a class="list-group-item" href="../module9/index.html">Module 9 - Audio, video, animation and motion</a></li>
						<li><a class="list-group-item" href="../module10/index.html">Module 10 - Input modalities</a></li>
						<li><a class="list-group-item active" href="index.html">Module 11 - ARIA live and time limits</a></li>
					</ul>
			</section>
	</nav>
</div>

<div id="def-preFooter2"></div>
		<script src="../../../scripts/preFooter2.min.js"></script>
<div id="def-preFooter"></div>
		<script src="../../../scripts/preFooter.min.js"></script>
		
</div>	
		
<div id="def-footer"></div>
	<script src="../../../scripts/appFooter.min.js"></script>
	<script src="../../../scripts/refFooter.min.js"></script>
	<script src="../../../scripts/bati-itao.min.js"></script>

</body>
</html>
